@using MudBlazor

<MudGrid>
    <MudItem xs="12">
        <Display @bind-Value="DisplayValue" ValueChanged="OnDisplayValueChanged"  />
    </MudItem>
    @for (int i = 1; i <= 9; i++)
    {
        <MudItem xs="4">
            <MudNumberButton Number="@i" OnClick="AppendNumber" />
        </MudItem>
    }
    <MudItem xs="4"><OperationButton Operation="+" OnClick="PerformOperation" /></MudItem>
    <MudItem xs="4"><OperationButton Operation="-" OnClick="PerformOperation" /></MudItem>
    <MudItem xs="4"><OperationButton Operation="*" OnClick="PerformOperation" /></MudItem>
    <MudItem xs="4"><OperationButton Operation="/" OnClick="PerformOperation" /></MudItem>
</MudGrid>

@code {
    private string DisplayValue { get; set; } = "";

    private void AppendNumber(int number)
    {
        DisplayValue += number.ToString();
    }

    private async Task PerformOperation(string operation)
    {
        // Implement logic to call REST API with the current numbers and the selected operation
        // For demonstration purposes, this is a placeholder
        var result = await CallApi(DisplayValue, operation);
        DisplayValue = result.ToString();
    }

    private Task<double> CallApi(string expression, string operation)
    {
        // Call your REST API here
        // This is just a placeholder for the actual API call
        return Task.FromResult(0.0);
    }
}
